<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="utf-8">

    <title>reveal.js - The HTML Presentation Framework</title>

    <meta name="description" content="Create a twitterbot with Scala and Akka">
    <meta name="author" content="Robert van Rijn">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <h2>Programming Experience</h2>
            <h3>Create a twitterbot with Scala and Akka</h3>
            <p>
                <small>Created by <a href="http://vanrijn.io">Robert van Rijn</a></small>
            </p>
        </section>

        <section>
            <h2>What are we going to do?</h2>
                <li>Get information from RSS feeds</li>
                <li>Shorten the RSS feed url</li>
                <li>Send messages to the akka-twitter server</li>
                <li>Receive and handle messages</li>
            </ul>
        </section>

        <section>
            <h2>Message passing</h2>
            <a href="#" class="navigate-down">
                    <img data-src="/images/twitter-server.png" alt="Down arrow">
            </a>
        </section>

        <section>
            <h2>1/2 Libraries we will use:</h2>

            <p>Twitter4J is an unofficial Java library for the Twitter API. With Twitter4J, you can easily integrate your Java application with the Twitter service.</p>
            <br>
            <a href="#" class="navigate-down">
                    <img data-src="/images/twitter4j-logo.png" alt="Down arrow">
            </a>
        </section>

        <section>
            <h2>2/2 Libraries we will use:</h2>

            <p>ROME is a set of RSS and Atom Utilities for Java that is open source under the Apache 2.0 license.</p>
            <br>
            <a href="#" class="navigate-down">
                    <img data-src="/images/romelogo.png" alt="Down arrow">
            </a>
        </section>

        <section>
            <h2>The toolkit we will use:</h2>
            <ul>
                <li>actors</li>
                <li>akka-remoting</li>
            </ul>
            <br>
            <a href="#" class="navigate-down">
                    <img data-src="/images/akka_logo.png" alt="Down arrow">
            </a>
        </section>

        <section>
           <a href="#" class="navigate-down">
                    <img data-src="/images/introduction-to-actor-model.jpg" alt="Down arrow">
            </a>
        </section>
        
        <section>
            <h3>The project files contain three sbt subprojects</h3>
            <ul>
                <li>Examples</li>
                <li>Client</li>
                <li>Server</li>
            </ul>
        </section>

        <section>
            <h3>Open the Examples project</h3>
            <ul>
                <li>Get RSS feed</li>
                <li>Shorten the url</li>
            </ul>
        </section>

        <section>
            <h3>Have a look at the other sbt projects</h3>
            <ul>
                <li>Server</li>
                <li>Client</li>
            </ul>
        </section>

<<<<<<< HEAD
        <section>
           <p>Server application.conf</p>
           <pre><code data-trim>
akka {
  //loglevel = "DEBUG"
  actor {
    provider = "akka.remote.RemoteActorRefProvider"
  }
  remote {
    transport = "akka.remote.netty.NettyRemoteTransport"
    //log-sent-messages = on
    //log-received-messages = on
    netty {
      hostname = "SERVER.IP.ADDRESS"
      port = 5150
    }
  }
}
           </code></pre>
=======
        <section data-transition="slide" data-background="#4d1a65">
            <h2>Spark MLlib</h2>
            <ul>
                <li>Machine Learning Basics</li>
                <li>Programming Abstractions in Spark MLlib</li>
                <li>Example: Predicting Digits</li>
                <li>Getting YOUR hands dirty</li>
            </ul>
        </section>
        <section data-transition="slide" data-background="#4d1a65">
            <section>
                <h3>Spark MLlib &mdash; Machine Learning Basics</h3>
                </ul>
                <img data-src="images/machineLearningPipeline.jpg"
                     alt="Typical steps in a machine learning pipeline">
            </section>
            <section>
                <h4>Gather and prepare data</h4>
                <blockquote>"In Data Science, 80% of time is spent on data preparation, and the other 20% is spent on
                    complaining about the need to prepare data"
                </blockquote>
            </section>
            <section>
                <h4>Select features</h4>
                <blockquote>"In machine learning and statistics, feature selection, also known as variable selection,
                    attribute selection or variable subset selection, is the process of selecting a subset of relevant
                    features (variables, predictors) for use in model construction"
                </blockquote>
                <ul>
                    <li>Current age for predicting the probability of ending up in hospital in the coming five years.
                    </li>
                    <li>$\frac{\text{weight}}{\text{length}^2}$ for predicting percentage of body fat.</li>
                    <li>You fall in category $A$, so you are very likely to do $Z$.</li>
                </ul>
            </section>
            <section>
                <h4>Train a model</h4>

                <div>
                    <img data-src="images/modelgraphs1.png" alt="Model examples" style="float:left" width="65%"/>
                    <img data-src="images/J48_iris.jpg" alt="Iris decision tree" style="float:left" width="30%"/>
                </div>
            </section>
            <section>
                <h4>Select the best model</h4>
                <ul>
                    <li>Train model with different parameters.</li>
                    <li>Model might be too complex, or too simple.</li>
                    <li>Evaluate model on some validation set and use cross-validation to find an appropriate model.
                    </li>
                </ul>
                <img data-src="images/model-selection.png" alt="Model selection" width="300"/>
            </section>
            <section>
                <h4>Predict</h4>
                <img data-src="images/xkcdFlowChart.png" alt="Flow Chart"/>
            </section>
        </section>
        <section data-transition="slide" data-background="#4d1a65">
            <section>
                <h3>Spark MLlib &mdash; Programming Abstractions</h3>
                <ul>
                    <li>(Dense/Sparse) Vector</li>
                    <li>LabeledPoint</li>
                    <li>Matrix</li>
                    <li>Rating</li>
                    <li>Model classes</li>
                    <li>Pipeline API</li>
                </ul>
            </section>
            <section>
                <h4>(Dense/Sparse) Vector</h4>
                <ul>
                    <li>A mathematical vector containing numbers.</li>
                    <li>Both dense and sparse vectors.</li>
                    <li>Constructed via the <code>mllib.linalg.Vectors</code> class.</li>
                    <li>Do not provide arithmetic operations.</li>
                </ul>
                <pre><code>        val denseVec1 = Vectors.dense(1.0, 2.0, 3.0)
        val denseVec2 = Vectors.dense(Array(1.0,2.0,3.0))
        val sparseVec = Vectors.sparse(4, Array(0,2), Array(1.0, 2.0))</code></pre>
            </section>
            <section>
                <h4>LabeledPoint</h4>
                <blockquote>"LabeledPoint: A labeled data point for supervised learning algorithms such as
                    classification and regression. Includes a feature vector and a label."
                </blockquote>
                <pre><code>             val lp = LabeledPoint(1,Vectors.dense(3.14,1.68,1.41))</code></pre>
            </section>
            <section>
                <h4>Matrix</h4>
                <ul>
                    <li>Integer typed row and column indices</li>
                    <li>Double values</li>
                    <li>Different implementations for distribution purposes (RowMatrix, BlockMatrix, CoordinateMatrix,...).</li>
                    <li>Dense and sparse variants</li>
                </ul>
                <img data-src="images/latex_matrix.png"/>
            </section>
            <section>
                <h4>Rating</h4>
                <blockquote>"Rating: A rating of a product by a user, used in the mllib.recommendation package for
                    product recommendation."
                </blockquote>
                Nothing more than a
                <pre><code>         case class Rating(user: Long, item: Long, rating: Double)</code></pre>
            </section>
            <section>
                <h4>Model classes</h4>
                <ul>
                    <li>Work on RDD[Vector], RDD[LabeledPoint], etc.</li>
                    <li>Often follow naming pattern: &lt;problem&gt;With&lt;Algorithm&gt;, e.g. LinearRegresionWithSGD.</li>
                    <li>Either the model follows a builder pattern and has a run() method, or it has static train() and predict() methods:</li>
                </ul>
                <pre><code>val points: RDD[LabeledPoint] = // ...
val lr = new LinearRegressionWithSGD()
                    .setNumIterations(200)
                    .setIntercept(true)
val model = lr.run(points)</code></pre>

                <pre><code>val model = DecisionTree.trainClassifier(
                    input = data,
                    numClasses = 10,
                    categoricalFeaturesInfo = Map[Int, Int](),
                    impurity = "gini",
                    maxDepth = 15,
                    maxBins = 5
                    )</code></pre>
            </section>
            <section>
                <h4>Pipeline API</h4>
                <ul>
                    <li>Advanced API for chaining machine learning operations in one workflow</li>
                    <li>Uses the more advanced DataFrame features compared to RDD's of simple MLlib abstractions.</li>
                    <li>Possible pipeline: Automated feature selection -> Model training -> Validation -> Model selection -> Prediction</li>
                </ul>
                <img data-src="images/machineLearningPipeline.jpg"/>
            </section>
        </section>
        <section data-transition="slide" data-background="#4d1a65">
            <section>
                <h3>Spark MLlib &mdash; Example: Predicting Digits</h3>
                <ul>
                    <li>42,000 drawings of digits.</li>
                    <li>Given a drawing, predict the written digit.</li>
                    <li>Classification problem.</li>
                    <li>Use Decision Tree approach.</li>
                </ul>
                <img data-src="images/digitData.png" width="300"/>  <img data-src="images/digit.png" width="265"/>
            </section>
            <section>
                <h1>CODE TIME</h1>
            </section>
        </section>
        <section data-transition="slide" data-background="#4d1a65">
            <section>
                <h3>Spark MLlib &mdash; Getting YOUR hands dirty</h3>
            </section>
        </section>
        <section data-transition="slide">
            <h2>nl.ncim.workshop.streaming</h2>
            <li>Spark Streaming can read data from HDFS, Flume, Kafka, Twitter and ZeroMQ.</li>
            <li>You can also define your own custom data sources.</li>
>>>>>>> parent of 1691f27... added additional images
        </section>

        <section>
           <p>Client application.conf</p>
           <pre><code data-trim>
akka {
  //loglevel = "DEBUG"
  actor {
    provider = "akka.remote.RemoteActorRefProvider"
  }
  remote {
    transport = "akka.remote.netty.NettyRemoteTransport"
    //log-sent-messages = on
    //log-received-messages = on
    netty {
      hostname = "YOUR.IP.ADDRESS"
      port = 0
    }
  }
}
           </code></pre>
        </section>

        <section>
           <p>How do I create a Actor system?</p>
           <pre><code data-trim>
  val system = ActorSystem("LocalSystem")
  val localActor = system.actorOf(Props[LocalActor], name = "LocalActor") 
           </code></pre>
        </section>


        <section>
           <p>How do I get the Akka remote server address?</p>
           <pre><code data-trim>
  val remote = context.actorSelection("akka://HelloRemoteSystem@SERVER.IP.ADDRESS:5150/user/RemoteActor")
           </code></pre>
        </section>

        <section>
<<<<<<< HEAD
           <p>How do I deal with incoming messages</p>
           <pre><code data-trim>
  def receive = {
    case "START" =>
      remote ! "Hello from the LocalActor"
    case msg: String =>
      println(s"LocalActor received message: '$msg'")
      if (counter < 5) {
        sender ! "Hello back to you"
        counter += 1
      }
  }
           </code></pre>
=======
            <section>
                <h3>Spark GraphX &mdash; Example: Maven Dependencies</h3>
                <img data-src="images/maven-deps-ni-labels.png" width="500"/>
                <p>source: <a href="https://github.com/ogirardot/meta-deps">https://github.com/ogirardot/meta-deps</a></p>
            </section>
            <section>
                <h3>Data</h3>
                <ul>
                <li>Directed graph of maven dependencies.</li>
                <li>Data structure:</li>
                    <img data-src="images/maven-deps-data.png" width="800"/>
                </ul>
            </section>
            <section>
                <h1>Code Time</h1>
            </section>
>>>>>>> parent of 1691f27... added additional images
        </section>

        <section>
            <p>Open de client project and write some code to talk to the server.</p>
        </section>

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/math/math.js', async: true }
				]
			});
</script>
</body>
</html>
